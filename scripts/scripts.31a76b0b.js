"use strict";angular.module("kleineHeldenApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngAria","ngMaterial","angular-flippy"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("kleineHeldenApp").controller("MainCtrl",["$scope",function(a){a.cards=[{pictureFront:"images/Vincent F.9a85e631.png",pictureBack:"images/Vincent.c6f602d4.png",tags:["man","baard","digitaal"],away:!1},{pictureFront:"images/Anneleen F.f20102c8.png",pictureBack:"images/Anneleen.ab7d19a5.png",tags:["vrouw","digitaal"],away:!1},{pictureFront:"images/Ariane F.d546fbc0.png",pictureBack:"images/Ariane.9f375e26.png",tags:["vrouw","voorbereiden","research","sjaal"],away:!1},{pictureFront:"images/Gunter F.2c69fadc.png",pictureBack:"images/Gunter.fec336f5.png",tags:["man","postproductie","kleuren"],away:!1},{pictureFront:"images/Filip F.f2d6d95b.png",pictureBack:"images/Filip.d607517a.png",tags:["man","reportagereis","buitenland","filmenBuitenland"],away:!1},{pictureFront:"images/David F.c2840dd6.png",pictureBack:"images/David.accdf498.png",tags:["man","postproductie","muziek"],away:!1},{pictureFront:"images/Rudi F.424c3a35.png",pictureBack:"images/Rudi.3bd1915d.png",tags:["man","reportagereis","voorbereiden","sjaal","journalist"],away:!1},{pictureFront:"images/Tine F.b2911b2f.png",pictureBack:"images/Tine.5a40d6ac.png",tags:["vrouw","voorbereiden","administratie"],away:!1},{pictureFront:"images/Jochen F.89394da7.png",pictureBack:"images/Jochen.292c0868.png",tags:["man","postproductie","montage"],away:!1},{pictureFront:"images/Veronique F.d5f40f82.png",pictureBack:"images/Veronique.ee1625ab.png",tags:["vrouw","postproductie","openingssequentie"],away:!1},{pictureFront:"images/Jan V F.8ad812ca.png",pictureBack:"images/Jan V.6f589546.png",tags:["man","voorbereiden","baard","research"],away:!1},{pictureFront:"images/Mark F.550fd357.png",pictureBack:"images/Mark.d7587ca6.png",tags:["man","postproductie","reportagereis","filmenBuitenland","regisseur","montage"],away:!1},{pictureFront:"images/Ina F.d016180f.png",pictureBack:"images/Ina.e2426b74.png",tags:["vrouw","voorbereiden","postproductie","eindredacteur"],away:!1},{pictureFront:"images/Jan B F.438524c9.png",pictureBack:"images/Jan B.95fc850a.png",tags:["man","baard","reportagereis","geluid"],away:!1},{pictureFront:"images/Joris F.3d0b44c5.png",pictureBack:"images/Joris.8ec7fe5b.png",tags:["man","postproductie","baard","reportagereis","hoofddeksel","regisseur","filmenBuitenland","montage"],away:!1}],a.options=[{text:"Is het een man?",value:"man",inFilter:!1},{text:"Is het een vrouw?",value:"vrouw",inFilter:!1},{text:"Bereidt hij/zij de reportagereizen voor?",value:"voorbereiden",inFilter:!1},{text:"Werkt hij/zij aan de postproductie van Kleine Helden?",value:"postproductie",inFilter:!1},{text:"Heeft hij een baard?",value:"baard",inFilter:!1},{text:"Gaat hij/zij mee op reportagereis?",value:"reportagereis",inFilter:!1},{text:"Filmt hij/zij in het buitenland?",value:"filmenBuitenland",inFilter:!1},{text:"Zoekt hij/zij naar verhalen en personages?",value:"research",inFilter:!1},{text:"Vertaalt hij/zij de reeks naar online posts, filmpjes en artikels?",value:"digitaal",inFilter:!1},{text:"Draagt hij/zij een sjaal?",value:"sjaal",inFilter:!1},{text:"Schrijft hij/zij de muziek voor Kleine Helden?",value:"muziek",inFilter:!1},{text:"Beheert hij/zij de budgetten, de planning en vertalingen?",value:"administratie",inFilter:!1},{text:"Is hij/zij journalist?",value:"journalist",inFilter:!1},{text:"Is hij/zij regisseur van de helft van de reeks?",value:"regisseur",inFilter:!1},{text:"Draagt hij/zij een hoofddeksel?",value:"hoofddeksel",inFilter:!1},{text:"Maakte hij/zij de openingssequentie van Kleine Helden?",value:"openingssequentie",inFilter:!1},{text:"Bewerkt hij/zij de kleuren van de beelden?",value:"kleuren",inFilter:!1},{text:"Monteert hij/zij de beelden tot een geheel?",value:"montage",inFilter:!1},{text:"Neemt hij/zij tijdens het filmen het geluid op?",value:"geluid",inFilter:!1},{text:"Waakt hij/zij als eindredacteur over het hele verhaal?",value:"eindredacteur",inFilter:!1}],a.filters=[],a.checkNumberAways=function(){a.cards.forEach(function(b){b.away===!0&&(a.numberAways++,console.log("aways",a.numberAways))})},a.filterCards=function(b){console.log("add filter to cards",b),a.cards.forEach(function(a){var c=a.tags.indexOf(b);-1===c&&(a.away=!0)}),a.numberAways=0,a.checkNumberAways()},a.loopFilters=function(b){a.numberAways=0,console.log("loop filters",b),b.length>0?b.forEach(function(b){a.filterCards(b)}):a.cards.forEach(function(a){a.away=!1})},a.addFilter=function(b){console.log("adding filter",b),a.filters.push(a.options[b].value),console.log("filters are now",a.filters),a.options[b].inFilter=!0,a.loopFilters(a.filters)},a.removeFilter=function(b){console.log("remove filter",b);var c=a.filters.indexOf(a.options[b].value);c>-1&&(a.filters.splice(c,1),a.cards.forEach(function(a){a.away=!1}),a.loopFilters(a.filters),a.select=""),a.options[b].inFilter=!1,console.log(a.options[b].value),console.log(a.filters)}}]),angular.module("kleineHeldenApp").directive("khCards",["$timeout","$window",function(a,b){return{templateUrl:"views/cards.html",restrict:"E",scope:{heroes:"="},link:function(c,d){angular.element(b).bind("resize",function(){c.getHeight()}),c.getHeight=function(){function b(){for(var a=d[0].getElementsByClassName("theImage"),b=0;1>b;b++)c.height=a[b].scrollHeight}c.width=0,c.height=d.prop("offsetHeight"),a(b,!1)},c.$watch("val",function(b,d){a(function(){c.getHeight()},1e3)})}}}]),angular.module("kleineHeldenApp").run(["$templateCache",function(a){a.put("views/cards.html",'<div layout-wrap layout="row" layout-align="center center" style="padding-left:5%;padding-right:5%"> <div flex="20" flex-xs="50" flex-sm="33" ng-repeat="card in heroes" class="cards" ng-class="{ \'away\': card.away}"> <flippy flip="[\'mouseenter\', \'click\']" flip-back="[\'mouseleave\', \'click\']" duration="800" timing-function="ease-in-out" style="height:{{height}}px"> <flippy-front> <img src="{{card.pictureFront}}" class="theImage"> </flippy-front> <flippy-back> <img src="{{card.pictureBack}}"> </flippy-back> </flippy> </div> </div>'),a.put("views/main.html",'<md-content flex layout-padding> <div layout="row" layout-align="center center"> <div flex="50" flex-sm="80" flex-xs="100"> <md-input-container class="md-block"> <label>Stel een vraag:</label> <md-select ng-model="select" ng-change="addFilter(select)"> <md-option ng-repeat="(key, option) in options" ng-if="!option.inFilter" value="{{key}}"> {{option.text}} </md-option> </md-select> </md-input-container> </div> <!--  <div flex>\n            <md-button class="md-raised md-primary" ng-click="addFilter(select)">Stel deze vraag</md-button>\n        </div> --> </div> <div layout="row" layout-align="center center"> <md-list class="answers" flex="50" flex-sm="80" flex-xs="100"> <md-list-item ng-repeat="(key, option) in options" ng-if="option.inFilter"> <p>{{ option.text }}</p> <div class="md-secondary" ng-click="removeFilter(key)">X</div> <!-- <md-checkbox class="md-secondary" ng-model="topping.wanted"></md-checkbox> --> </md-list-item> </md-list> </div> <div layout="row" layout-align="center center"> <div flex="50" flex-sm="80" flex-xs="100"> <div ng-if="numberAways == 15" class="nobody">Niemand beantwoordt aan deze omschrijving!</div> </div> </div> <kh-cards heroes="cards"></kh-cards> </md-content>')}]);